version: "~> 1.0"
git:
  depth: 1
  quiet: true
language: java
jdk:
  - openjdk21
branches:
  only:
    - develop
    - support/4.1.x
    - support/4.0.x
    - master
cache:
  directories:
    - "$HOME/.m2"
notifications:
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
before_install:
  - mkdir -p $HOME/.m2
  - cp .travis-settings.xml $HOME/.m2/settings.xml
install: skip
script:
  - if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then bash -c "mvn deploy --settings .travis-settings.xml"; fi
  - if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then bash -c "mvn clean install"; fi
env:
  global:
    - secure: "P55zXyPIahpEpLAdU91oqttNKI2Cdz5myofHLe2PkJWERzpozpGcRatjDDs+BjaMBKlkGLiy4IUlxIG6a7gkqdTnNwLzFiTTd+KIJZ7b/GCzDcUKE3RJyme1CZi6Ar6aJpzvwwK0vgqM1DL8dxK8B0RR6kte5MyQCr7EfbYmPtVOB4TUC/2svCQ7IxJDXVPDMdlaMjiqvOzz1zgvPDsYvjYdcimcwPb3e4pOVToph/Pi4WLo4D/nWfpSTw9/36n4KWvq8Z4HtXy0HbAnB00oLMTYVkW7/BwRsCg97XyTfWjMc0qkvZtFcxEK9zcaOvK8oZb3QYOIzJcHDO0HU8/b04qjuE84ngS8G7wEfD4vtVlhyDi1WtvIbQ9BkAtE2gCZhHBUhDz4PDkpQRzzLsT4Rav64xX3pSkTHFg912P+qxcP580yuIIynvdu4CG+HmSsVkyskCBq3oE8ZMe5h//rrpe+4fOePOadQIzqXBvqO+/yMqPVrOe0sbXD/fjAXhhncP+w4gR0abZbxQdZ49jgTAq7qY8/fkuTc99uf6K8+KfyovagYEjKcGNvTEqI5F/Zj8GruwNwPewUNmZ3pS5IkgPbHpNtP6/61lhaMBCczCS+YcHudppyfmIa89kDbrsCbBEALWcwqAkrukD1k8L0iHqEiOP4gnVwbhIknbgZ1UU="
    - secure: "taykULMQWcI5+pVgK4SpKaZwyMsFix1BNDLN6cL8Vwpm2gaidKKj3+ukmQJudAhgS0Hk2w20/fCky2ZmlDl2a4H3QC+QkOHY0h5JwDTiyAe16AzW6ZfzX8YdZ8cPHRCGFou56ZP94k2VIkhmEUto6echa73gdsitQ+Qk60xVARtJgXoHkwBHJ2aXBZO3CwNRlWChLVMzPvorgFYAZwR8kjYEyTEnDBJz+AM9N3Q/BkIwH4KHO/oLDCtDl8dgUL7KamZmNcm7MnzeYRd2YxJFryOupoOogNtdUKbGtKf+/AaZ8nqwlvZZxeeEL+ZV+IYR63V1EnkMaUpKXSULgqlLxHFLEi5DBcQI156a+UkI2XaTPA80VDBo8Tp6nOINEvikMYzz5qG3o/G3LbciltL2wNOM/TGEXEU2qprnTuTKFBFuzuVPidIQ5brEdy7/kmzZZn4YYLOdSirYtWU4j+8xeZtUhOtHT2wfgK+QEu5ZQsrjhu2RnuOfxkb/C0pg2vKVP/hPzYD5+BHEm3e2JeKhlyzf8CK6mXLSMF4HsdVsAIsPHruJ0HmFAqXPvmqdcnov9aC53rCuaqTSlTCJDPZ/ixEPmlNHN7xGdUerCfAb9H/9SnaN5WFQKv9FLFeZVuxbKPCeKwf1mXgsUcqVviw/GjGLQNwdbis+18UBhzJPN30="
