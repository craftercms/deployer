version: "~> 1.0"
git:
  depth: 1
  quiet: true
language: java
jdk:
  - openjdk17
branches:
  only:
    - develop
    - support/4.1.x
    - support/4.0.x
    - master
cache:
  directories:
    - "$HOME/.m2"
notifications:
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
before_install:
  - mkdir -p $HOME/.m2
  - cp .travis-settings.xml $HOME/.m2/settings.xml
install: skip
script:
  - if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then bash -c "mvn deploy --settings .travis-settings.xml"; fi
  - if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then bash -c "mvn clean install"; fi
env:
  global:
    - secure: "X3tXlx5p0jlh9oXHrLuNDRtB63x26zvj1WPoNL277MylMUZXp4KppQojZoEwSi89HGKXr5ti0IgZBuxd9mxe0WMlHIJbzQb0OkBGxdCQsId/moSxRcBy/9NLgXn9BSRNsLy+NMnTM6++3HUaIgI5b3c0djuxTpivgVHEOmENjG5DQDPDbfnMHNYEgAMfbc5mg9pP0oB1Co7Jba6hDATYsz9UBCv47t/qWs29W+yKqefvAF8XDXt3xDuUO6+etpQhponfdOcIGMu00T9E4tppPadzJ5js7yWeAtvtpg19phK36ehDhQx6Watj1WPQSgXVMW5k/HJ0lqeEShFirKern8PR+Td2TyyJeNbxreftn8CEwt8nuH6nRqIqw1NpqvISEbtllKqSAGEA5uZSGQJ8/0fmUJDOV/ZyrHxoY99XSPR4w4LzjhIr6o56izE7yFtjRnRJfPD3K0qFI5zBsZup+z22LmbsGrNUP4xQqCO/NaiMkojKmjO4r+GBJQ9Jj5FrgMCVo/AD5nWAsXo2NN4GnLjYLS10skrKhRLE3yKjY8YPLN1ggPV822XE0/MIlDJuOZcRUN6Zuoz6DOLzQWIVxBBeqo0R+re5CiHLzCtQZK+eHHFg6Rau2ncq83qaRtJtu7NRMmmZ5peByebu4uiSmaNKsenB4T3VvCr864Z0l60="
    - secure: "WlHXqe4ZcEzD7sDvPeGRRycFcVhb5XzwiOtisuS0hZT1Bpj31jLUg+KTZx4josbwOBeZHdQyF2XFeFVuhB/2G9h6HRPiIXK15ZJ1/qBnU+ps88PczofIMdK7spNf/nnsuiKdhZhYgZluQfsLXnsEJEWedLf0SQcm1mz8qW3CwWb+OvMPQpbdfDDksk+xrToU3TmYFZpDADo51a5SAQBO0xpOWOGfv6E9tksAcOzZWUAEh7TqI+DDgPgAY6lCJDEkxKpA8luqB5i1EMOvYiaGcf+soQ8zODhjwaIxSyzCQQcOl/veY1MlG5YRrsQOMiYfavaLbFTJWTH12qzrvMdC1bPAWABbbOLSO7BDXLw4Y9LBr4jpAxHiel9xz8Hjl0iscecm8zMsyVIT7OwK5A5b2vxa1c2aX38l7LflppsvMBsxtLPVfuo9ae3JBcKsUF/VQXIX1jzgqNZH1f8anMD83+lOfP3fgFW+brXscQ7DCjl9xpyJz7wvZMwFfAKc+9f3EKeI4EKSv+2HhTQPyeNSUB3NlDbmMDuLZB2PIrKw8GlcnorpsZhCDp29fc2BVvXRzlK+p/fzKJ8pos4ub3ZyrisuHrJ42g4AJlOjbeVPVnRyXVzZbkGzhnWvvrrR7jfCJhui/k7E95Z86GXJAbtVcDnmql8uqQX5huTChtoWGcY="
