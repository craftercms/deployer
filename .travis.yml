language: java
jdk:
- openjdk8
branches:
  except:
  - travis
notifications:
  irc:
    channels:
    - chat.freenode.net#craftercms
    use_notice: true
    skip_join: true
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
env:
  global:
  - secure: 5N5hccJtmKUrSR0hQEn97DMGYyjvTQpu/e+J0LhQyoHPuK4v+58G1YwncAAuOaQRKz/jjCIohAaqfk/t2MGTu0z/2KL7CStqyMSCvWfPfyw4r8sul48MAuyMQZHlKK7q4BQ1lVg+I+GuI4LfAQV/KkuRVy6ROcKO1TRThSyXyMfsEPPP+oJnIVdOUEovlQi5Z7KEe0G84b1HzCUdXuxxBxZrWqacffsX4ZB2gi098kq2wI18rAl16WJwREUCCGCeaMlKG027j9ZmFvQGHO2P3nyRSQpm6TtUU8KVcB521UtSPKbzVA3vR8npFSJtzvGbL3WR9975Yb1jRPc77Bs1tnllHGcqzFtbRC283Go9G0jwdgLm1DGK906cpthqiBFsa/njiiK3j0egwFs9DcHFixl+cf2Ix5zndJRhCMga348gaR55ltzcEg9C5Txmm611JO2tAFYS8JhmAGk6wUm+aLOHdlicI6aZxcwGHSWpPY2zaMlhownOC/ivc/eiR22f6uyVImauJJOm4Mw4LyqsAvZdjHuX4MnKJlWY72mNvYje2hnTB+ajphWoPRnqQ2f1afirrMxORyXBUpykzfSdevNLLQIUq60mQHgDLkc/FYUyW0fwNuyXS+lLIbkDqD9rc0893mZuJ7P9tLw7P1kPZlI7XerP3CuxhxTuJ0MdnUY=
  - secure: WbVWcBcLQ8VyDHA7DIXB7fmycdNKJwhxEb8ODiSFUm1d+iRI19fuYKDX/ADkWMzxX/teLZsO3QSueq7GqlpiM3zvQuxOzYpfIM8t/ht48Mm5d6EuCC0/gWXGKTj5xg1h40yilMqAbGujKZICnxqYyZL2k3FmYt0hinIJjRc61vSvD0KsM0REETdGi6VZWYmsO1176ocv9RutcyB+s0U5pj27MwFId5uCpvKvYjturkWGARNcNzOlsKC4K3FxKuUVbwKQKKR9IbkoupRdGDx9aFIWc5xUQgoLrb7LkpZB28Y7mO504zx5bRRDjvnAwbjjSN/uBBa4pN2DlvF5C2KatkX+kfVd3NlajJpWCvKGRFZxspig3IY9C/POb4R/s0uCIgndpVAbEJmwCkyTcVd9cwD0LzKhbKjOT0oV6og30j5cSzoFuwVnWHa6RyGyND4y+l1JsimIsM+bCLdyhF4h76p6Z9hSsY9/uIAt/NE4+Q4KalzWfEzXz/kTpH+Dn0dg/FtjIjyZyKjSTG0C+VNinDzD4S0xIrrevzEAZzfDuP3JfFixj6S9laeRcOTgpqQs0tBHWLHOav7s5PUftYsKy6aTU0OJj50V+fIcNpUrRCcj5irgwd+e7gBXoJO6a39PtCjxAaoy74YAJVualEtuhCTYiDrfAP4NAIBPG1zNtH0=
before_install: git clone -b travis `git config --get remote.origin.url` target/travis
script:
- if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then bash -c  "mvn deploy --settings
  target/travis/settings.xml";  fi
- if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then bash -c "mvn clean install" ;fi
